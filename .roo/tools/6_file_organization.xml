<?xml version="1.0" encoding="UTF-8"?>
<custom_rules>
  <rule id="org-1">
    <title>Component File Organization</title>
    <description>Follow the established file organization patterns.</description>
    <structure>
      <item>components/ - Reusable UI components</item>
      <item>components/views/ - View-level components (ArchiveView, BoardView, etc.)</item>
      <item>components/staging/ - Staging workbench specific components</item>
      <item>hooks/ - Custom React hooks</item>
      <item>services/ - Business logic and data operations</item>
      <item>utils/ - Pure utility functions</item>
      <item>constants/ - Constants organized by domain</item>
      <item>types.ts - Central TypeScript type definitions</item>
    </structure>
  </rule>

  <rule id="org-2">
    <title>Import Order Convention</title>
    <description>Follow the import order convention for consistency.</description>
    <order>
      <group>React imports</group>
      <group>Third-party libraries</group>
      <group>Absolute imports (../types, ../constants)</group>
      <group>Relative imports (./Icon, ./hooks)</group>
    </order>
    <example>
      <code>import React, { useState, useEffect } from 'react';
import { useVirtualizer } from '@tanstack/react-virtual';

import { IIIFItem, isCanvas } from '../types';
import { RESOURCE_TYPE_CONFIG } from '../constants';
import { useIIIFTraversal } from '../hooks';
import { Icon } from './Icon';</code>
    </example>
  </rule>

  <rule id="org-3">
    <title>Styling Organization</title>
    <description>Follow styling conventions for the codebase.</description>
    <conventions>
      <item>Tailwind classes in className (no CSS-in-JS)</item>
      <item>Use designSystem.ts for theme values</item>
      <item>Consistent spacing scale (4px base: 1 = 4px, 2 = 8px, etc.)</item>
      <item>Resource type colors from RESOURCE_TYPE_CONFIG</item>
    </conventions>
  </rule>

  <rule id="org-4">
    <title>Hook Co-location</title>
    <description>Keep hooks that are specific to a component in a hooks/ subdirectory.</description>
    <pattern>
      <structure>components/staging/hooks/useStagingState.ts</structure>
      <structure>components/staging/hooks/useSourceManifestsBuilder.ts</structure>
    </pattern>
  </rule>

  <rule id="org-5">
    <title>Documentation Organization</title>
    <description>Documentation is organized in the Documentation/ directory.</description>
    <structure>
      <item>Documentation/Architecture/ - Architecture docs (Components, Services, DesignPatterns)</item>
      <item>Documentation/canopy/ - Canopy integration docs</item>
      <item>Documentation/IIIF_Field_Archive_Studio_Specification.md - Main spec</item>
    </structure>
  </rule>

  <rule id="org-6">
    <title>Naming Conventions</name>
    <description>Follow naming conventions for different file types.</description>
    <conventions>
      <item>Components: PascalCase (MyComponent.tsx)</item>
      <item>Hooks: camelCase starting with 'use' (useMyHook.ts)</item>
      <item>Services: camelCase (myService.ts)</item>
      <item>Utils: camelCase (myUtil.ts)</item>
      <item>Types: PascalCase in types.ts</item>
      <item>Interfaces: PascalCase with descriptive names</item>
    </conventions>
  </rule>

  <rule id="org-7">
    <title>File Extensions</title>
    <description>Use the correct file extensions.</description>
    <conventions>
      <item>React components: .tsx</item>
      <item>TypeScript files: .ts</item>
      <item>React hooks: .ts (even if they return JSX)</item>
    </conventions>
  </rule>
</custom_rules>
